mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
library(tidyr)
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
library(dplyr)
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
for(i in c("100 FL","50 FR","100 FR")){
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth()
print(p)
}
library(tidyr)
library(dplyr)
# Read in Data
df <- read.csv("Times For Oliver Patrouch.csv",header=TRUE, stringsAsFactors=FALSE)
#Find Relay Splits and Remove
library(stringr)
df$Relay <- FALSE
for(i in 1:nrow(df)){
if(str_sub(df$Time[i],-1,-1)=="r"){
df$Relay[i]<-TRUE
}
}
df$Swim.Date <- as.POSIXct(df$Swim.Date,format="%m/%d/%Y")
df <- df[order(df$Swim.Date),]
for(i in c("100 FL","50 FR","100 FR")){
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
print(p)
}
for(i in c("100 FL","50 FR","100 FR")){
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
supressMessages(print(p))
}
for(i in c("100 FL","50 FR","100 FR")){
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
supressWarnings(print(p))
}
for(i in c("100 FL","50 FR","100 FR")){
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
(print(p))
}
library(tidyr)
library(dplyr)
# Read in Data
df <- read.csv("Times For Oliver Patrouch.csv",header=TRUE, stringsAsFactors=FALSE)
#Find Relay Splits and Remove
library(stringr)
df$Relay <- FALSE
for(i in 1:nrow(df)){
if(str_sub(df$Time[i],-1,-1)=="r"){
df$Relay[i]<-TRUE
}
}
df$Swim.Date <- as.POSIXct(df$Swim.Date,format="%m/%d/%Y")
df <- df[order(df$Swim.Date),]
for(i in c("100 FL","50 FR","100 FR")){
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
(print(p))
}
df <- read.csv("Times For Jake Gibbons.csv",header=TRUE, stringsAsFactors=FALSE)
#Find Relay Splits and Remove
df$Relay <- FALSE
for(i in 1:nrow(df)){
if(str_sub(df$Time[i],-1,-1)=="r"){
df$Relay[i]<-TRUE
}
}
df$Swim.Date <- as.POSIXct(df$Swim.Date,format="%m/%d/%Y")
df <- df[order(df$Swim.Date),]
for(i in c("500 FR","1000 FR","1650 FR")){
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
(print(p))
}
basename(df)
list.files()
list.files(pattern=*.csv)
list.files(pattern=".csv")
glob2rx("Times For*.csv")
list.files(pattern=glob2rx("Times For*.csv"))
BestEvents <- list(
c("50 FR", "100 FR","100 FL"),
c("500 FR", "1000 FR", "1650 FR", "400 IM"),
c("200 FR", "500 FR", "1650 FR"),
c("50 FR", "100 FR", "100 FL", "100 BK"),
c("100 FL", "100 FR"),
c("200 IM", "400 IM", "100 BR"),
c("100 FL", "200 IM"),
c("100 FL", "200 FL", "200 IM"),
c("100 BR", "200 BR"),
c("100 FR", "200 IM"),
c("200 BR", "200 IM", "400 IM"),
c("100 BK", "200 BK", "200 IM"),
c("200 BK", "100 BK", "100 FL"),
c("100 BK", "200 BK", "200 IM", "400 IM", "200 FR","500 FR"),
c("200 BK", "200 FR", "500 FR"),
c("50 FR", "100 FR", "200 FR", "400 IM"),
c("50 FR", "100 FR", "200 FR"),
c("100 FL", "100 BK", "50 FR", "200 BK", "200 FL", "200 IM", "100 FR"),
c("200 FR", "500 FR", "1000 FR", "1650 FR"),
c("100 FR", "200 FR", "500 FR", "100 BK"),
)
BestEvents <- list(
c("50 FR", "100 FR","100 FL"),
c("500 FR", "1000 FR", "1650 FR", "400 IM"),
c("200 FR", "500 FR", "1650 FR"),
c("50 FR", "100 FR", "100 FL", "100 BK"),
c("100 FL", "100 FR"),
c("200 IM", "400 IM", "100 BR"),
c("100 FL", "200 IM"),
c("100 FL", "200 FL", "200 IM"),
c("100 BR", "200 BR"),
c("100 FR", "200 IM"),
c("200 BR", "200 IM", "400 IM"),
c("100 BK", "200 BK", "200 IM"),
c("200 BK", "100 BK", "100 FL"),
c("100 BK", "200 BK", "200 IM", "400 IM", "200 FR","500 FR"),
c("200 BK", "200 FR", "500 FR"),
c("50 FR", "100 FR", "200 FR", "400 IM"),
c("50 FR", "100 FR", "200 FR"),
c("100 FL", "100 BK", "50 FR", "200 BK", "200 FL", "200 IM", "100 FR"),
c("200 FR", "500 FR", "1000 FR", "1650 FR"),
c("100 FR", "200 FR", "500 FR", "100 BK")
)
names(BestEvents) <- c("Oliver Patrouch",
"Jake Gibbons",
"Alex Cronin",
"John Mataxas",
"Noah Hensley",
"Grant Sanders",
"Jan Switkowski",
"Matthew Josa",
"Jorie Caneta",
"McKenna DeBever",
"Monika Gonzalez-Hermosillo",
"Mykala Arnold",
"Natalie Chambers",
"Shelly Drozda",
"Georgiana Gardner",
"Olivia Jacobi",
"McKenna Keith",
"Tayla Lovemore",
"Melissa Marinheiro",
"Michelle Turek")
BestEvents
View(BestEvents)
myfiles <- lapply(temp, read.delim)
temp <-list.files(pattern=glob2rx("Times For*.csv"))
myfiles <- lapply(temp, read.delim)
View(myfiles)
View(myfiles[[1]])
myfiles <- lapply(temp, read.csv)
files <-list.files(pattern=glob2rx("Times For*.csv"))
myfiles = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
files <-list.files(pattern=glob2rx("Times For*.csv"))
myfiles = do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
myfiles <- do.call(rbind, lapply(files, function(x) read.csv(x, stringsAsFactors = FALSE)))
View(myfiles)
df <- data.frame()
str(files)
print(files)
df <- data.frame()
for(i in files){
temp <- read.csv(i,header=true)
temp$Name <- substr(files,11)
df <- rbind(df,temp)
}
df <- data.frame()
for(i in files){
temp <- read.csv(i,header=TRUE)
temp$Name <- substr(files,11)
df <- rbind(df,temp)
}
library(stringr)
df <- data.frame()
for(i in files){
temp <- read.csv(i,header=TRUE)
temp$Name <- str_sub(i,11)
df <- rbind(df,temp)
}
View(df)
df <- data.frame()
for(i in files){
temp <- read.csv(i,header=TRUE)
temp$Name <- str_sub(i,11,-4)
df <- rbind(df,temp)
}
df <- data.frame()
for(i in files){
temp <- read.csv(i,header=TRUE)
temp$Name <- str_sub(i,11,-5)
df <- rbind(df,temp)
}
sum(is.na(df))
nas <- df[rowSums(is.na(df))>0,]
View(nas)
unique(df$Name)
mast <- read.csv("Swimmer Data.csv",header=TRUE)
View(mast)
mast <- read.csv("Swimmer Data.csv",header=TRUE)
mast <- read.csv("Swimmer Data.csv",header=TRUE)
View(mast)
View(mast)
separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6", sep=","))
separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6", sep=", "))
gsub(x=mast$Pos.,pattern=" ", replacement = "")
mast$Pos. <- gsub(x=mast$Pos.,pattern=" ", replacement = "")
separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6", sep=","))
mast <- read.csv("Swimmer Data.csv",header=TRUE)
separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6","EV7" sep=","))
separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6","EV7", sep=","))
mast <- read.csv("Swimmer Data.csv",header=TRUE)
mast <- separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6","EV7", sep=","))
mast <- read.csv("Swimmer Data.csv",header=TRUE)
mast$Pos. <- gsub(x=mast$Pos.,pattern=" ", replacement = "")
mast <- separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6","EV7", "EV8", "EV9", "EV10", "EV11", "EV12", "EV13", "EV14", sep=","))
mast <- mast[,c(1:12,21:22)]
BestEvents <- list()
BestEvents <- list()
for(i in 1:nrow(mast)){
vec <- character()
for(j in 6:12){
if(is.na(mast[i,j])==FALSE){
vec[(j-5)]<-mast[i,j]
}
}
BestEvents[[i]]<-vec
names(BestEvents[[i]])<-mast$Name[i]
}
View(BestEvents)
View(BestEvents)
names(BestEvents[[1]])
mast$Name[1]
View(BestEvents)
BestEvents[[1]]
names(BestEvents) <- mast$Name
BestEvents[[1]]
names(BestEvents[[1]])
BestEvents <- list()
for(i in 1:nrow(mast)){
vec <- character()
for(j in 6:12){
if(is.na(mast[i,j])==FALSE){
vec[(j-5)]<-mast[i,j]
}
}
BestEvents[[i]]<-vec
}
names(BestEvents) <- mast$Name
mast$Name
names(BestEvents)
df2 <- subset(df,df$Name==names(BestEvents[[1]]))
names(BestEvents[[1]])
names(BestEvents[1])
df2 <- subset(df,df$Name==names(BestEvents[1]))
View(df2)
files <-list.files(pattern=glob2rx("Times For*.csv"))
df <- data.frame()
for(i in files){
temp <- read.csv(i,header=TRUE)
temp$Name <- str_sub(i,11,-5)
df <- rbind(df,temp)
}
mast <- read.csv("Swimmer Data.csv",header=TRUE)
mast$Pos. <- gsub(x=mast$Pos.,pattern=" ", replacement = "")
mast <- separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6","EV7", "EV8", "EV9", "EV10", "EV11", "EV12", "EV13", "EV14", sep=","))
mast <- mast[,c(1:12,21:22)]
BestEvents <- list()
for(i in 1:nrow(mast)){
vec <- character()
for(j in 6:12){
if(is.na(mast[i,j])==FALSE){
vec[(j-5)]<-mast[i,j]
}
}
BestEvents[[i]]<-vec
}
names(BestEvents) <- mast$Name
#Find Relay Splits and Remove
df$Relay <- FALSE
for(i in 1:nrow(df)){
if(str_sub(df$Time[i],-1,-1)=="r"){
df$Relay[i]<-TRUE
}
}
df$Swim.Date <- as.POSIXct(df$Swim.Date,format="%m/%d/%Y")
df <- df[order(df$Swim.Date),]
for(i in BestEvents){
df2 <- subset(df,df$Name==names(BestEvents[1]))
#for(j in )
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
(print(p))
}
files <-list.files(pattern=glob2rx("Times For*.csv"))
df <- data.frame()
for(i in files){
temp <- read.csv(i,header=TRUE)
temp$Name <- str_sub(i,11,-5)
df <- rbind(df,temp)
}
mast <- read.csv("Swimmer Data.csv",header=TRUE)
mast$Pos. <- gsub(x=mast$Pos.,pattern=" ", replacement = "")
mast <- separate(mast, Pos.,into=c("EV1","EV2","EV3","EV4","EV5","EV6","EV7", "EV8", "EV9", "EV10", "EV11", "EV12", "EV13", "EV14", sep=","))
mast <- mast[,c(1:12,21:22)]
BestEvents <- list()
for(i in 1:nrow(mast)){
vec <- character()
for(j in 6:12){
if(is.na(mast[i,j])==FALSE){
vec[(j-5)]<-mast[i,j]
}
}
BestEvents[[i]]<-vec
}
names(BestEvents) <- mast$Name
#Find Relay Splits and Remove
df$Relay <- FALSE
for(i in 1:nrow(df)){
if(str_sub(df$Time[i],-1,-1)=="r"){
df$Relay[i]<-TRUE
}
}
df$Swim.Date <- as.POSIXct(df$Swim.Date,format="%m/%d/%Y")
df <- df[order(df$Swim.Date),]
for(i in BestEvents){
df2 <- subset(df,df$Name==names(BestEvents[1]))
#for(j in )
#subset to i event
df2 <-subset(df,df$Relay==FALSE & df$Event==i)
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
(print(p))
}
i in BestEvents
for(i in BestEvents){}
for(i in BestEvents){ print(i)}
for(i in BestEvents){ print(names(i))}
names(BestEvents) <- mast$Name
df2 <- subset(df,df$Name==mast$Name[1])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df,df$Relay==FALSE & df$Event==BestEvents[[1]])
df2 <- subset(df,df$Name==mast$Name[1])
df2 <- df2[order(df2$Swim.Date),]
BestEvents[[i]]
BestEvents[[1]]
BestEvents[[1]]<-c("50FR","100FR","100FL")
df2 <-subset(df,df$Relay==FALSE & df$Event==BestEvents[[1]])
BestEvents[[1]]
str(BestEvents[[1]])
str(BestEvents[1])
t <-BestEvents[[1]]
df2 <-subset(df,df$Relay==FALSE & df$Event in BestEvents[[1]])
df2 <-subset(df,df$Relay==FALSE & df$Event== BestEvents[[1]])
df2 <- subset(df,df$Name==mast$Name[1])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df,df$Relay==FALSE & df$Event== BestEvents[[1]])
df2 <-subset(df,df$Relay==FALSE & df$Event== t)
df2 <- df2[order(df2$Swim.Date),]
df2 <- subset(df,df$Name==mast$Name[1])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df,df$Relay==FALSE & df$Event== t)
print(t)
View(df)
#Remove Space within df events
df$Event <- gsub(" ","",df$Event)
df2 <- subset(df,df$Name==mast$Name[1])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df,df$Relay==FALSE & df$Event== BestEvents[[1]])
df2 <- subset(df,df$Name==mast$Name[1])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df2,df2$Relay==FALSE & df2$Event== BestEvents[[1]])
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
(print(p))
for(i in 1:nrow(mast)){
df2 <- subset(df,df$Name==mast$Name[i])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df2,df2$Relay==FALSE & df2$Event== BestEvents[[i]])
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle()
(print(p))
}
for(i in 1:nrow(mast)){
df2 <- subset(df,df$Name==mast$Name[i])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df2,df2$Relay==FALSE & df2$Event== BestEvents[[i]])
#Convert swim time into seconds and reattach to df
times <- df2$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df2$Seconds <- v$seconds
p <- ggplot(df2,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(i)
(print(p))
}
t[1]
names(BestEvents[[1]])
BestEvents[[1]]
BestEvents[1]
names(BestEvents[1])
for(i in 1:nrow(mast)){
be <- BestEvents[[i]]
df2 <- subset(df,df$Name==mast$Name[i])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df2,df2$Relay==FALSE & df2$Event== be)
for(j in be){
df3 <- subset(df2,df2$Event==j)
times <- df3$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df3$Seconds <- v$seconds
p <- ggplot(df3,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(paste(names(BestEvents[i],"",j)))
print(p)
}
}
for(i in 1:nrow(mast)){
be <- BestEvents[[i]]
df2 <- subset(df,df$Name==mast$Name[i])
df2 <- df2[order(df2$Swim.Date),]
df2 <-subset(df2,df2$Relay==FALSE & df2$Event== be)
for(j in be){
df3 <- subset(df2,df2$Event==j)
times <- df3$Time
v <- NULL
v <- separate(tibble(times = times), times, sep = ":",into = c("min", "sec"), fill = "left", convert = T) %>%
mutate(min = ifelse(is.na(min), 0, min),seconds = 60 * min + sec)
df3$Seconds <- v$seconds
p <- ggplot(df3,aes(Swim.Date, Seconds)) + geom_point(pch=1) + geom_smooth() + ggtitle(paste(names(BestEvents[i]),"",j))
print(p)
}
}
